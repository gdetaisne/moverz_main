# RÃˆGLES OBLIGATOIRES - GESTION DES TÃ‚CHES

## âš ï¸ CONTRAINTES STRICTES

### 1. AVANT TOUTE MODIFICATION DE CODE

**INTERDICTION** de coder sans tÃ¢che documentÃ©e.

**WORKFLOW OBLIGATOIRE** :
1. VÃ©rifier si tÃ¢che existe dans `.cursor/BACKLOG.md`
2. Si NON â†’ CrÃ©er tÃ¢che dans BACKLOG.md avec Ã©valuation (prioritÃ© + temps)
3. Demander Ã  Cursor d'Ã©valuer les prioritÃ©s
4. CrÃ©er dossier de doc `.cursor/tasks/TASK-XXX-nom/`
5. DÃ©placer tÃ¢che dans TODO personnel (Guillaume ou AssociÃ©e)
6. ALORS SEULEMENT commencer Ã  coder

**SI USER DEMANDE DE CODER DIRECTEMENT** :
â†’ Cursor DOIT refuser poliment et dire :
"âš ï¸ On doit d'abord crÃ©er/documenter la tÃ¢che dans le BACKLOG. 
Je crÃ©e la tÃ¢che maintenant :
- Titre : [proposition]
- PrioritÃ© estimÃ©e : [P?]
- Temps estimÃ© : [Xh]
- Documentation : .cursor/tasks/TASK-XXX-[nom]/
Valides-tu ?"

---

### 2. PRIORITÃ‰ DES TÃ‚CHES INCOMPLÃˆTES

**RÃˆGLE** : Les tÃ¢ches âš ï¸ INCOMPLET sont TOUJOURS prioritaires.

**SI TÃ‚CHES INCOMPLET EXISTENT** :
â†’ Cursor DOIT rappeler au dÃ©marrage de session :
"âš ï¸ Tu as X tÃ¢ches INCOMPLÃˆTES Ã  finir en prioritÃ© :
1. TASK-XXX : [titre] (en pause depuis X jours)
2. TASK-YYY : [titre] (en pause depuis Y jours)

Veux-tu :
A) Reprendre une tÃ¢che INCOMPLET
B) Abandonner une tÃ¢che (avec revert code + doc raison)
C) Exceptionnellement dÃ©marrer du nouveau (justifie pourquoi)"

---

### 3. DEFINITION OF DONE STRICTE

**INTERDICTION** de marquer une tÃ¢che âœ… FINALISÃ‰ sans :
- [x] 1. Code propre et documentÃ©
- [x] 2. Commits sur GitHub main + tous dÃ©pÃ´ts concernÃ©s (SHA documentÃ©s)
- [x] 3. TestÃ© en live sur minimum 2 sites (rÃ©sultats documentÃ©s)

**WORKFLOW** :
â†’ Cursor vÃ©rifie la checklist et refuse si critÃ¨res non remplis

---

### 4. ABANDON DE TÃ‚CHE = NETTOYAGE CODE

**INTERDICTION** de marquer âŒ ABANDONNÃ‰E sans :
- [x] Code complÃ¨tement revertÃ© (git revert + SHA documentÃ©s)
- [x] Sites redÃ©ployÃ©s en version clean si nÃ©cessaire
- [x] git status clean (aucun fichier modifiÃ© rÃ©siduel)
- [x] Raison d'abandon documentÃ©e

**SI USER VEUT ABANDONNER** :
â†’ Cursor liste tous les commits Ã  revert
â†’ Cursor vÃ©rifie le nettoyage AVANT de marquer abandonnÃ©

---

### 5. DOCUMENTATION OBLIGATOIRE

**CHAQUE TÃ‚CHE** doit avoir son dossier `.cursor/tasks/TASK-XXX-nom/` avec :
- README.md (vue d'ensemble)
- context.md (pourquoi)
- progress.md (journal chronologique)
- commits.md (SHA GitHub)
- tests.md (sites testÃ©s + rÃ©sultats)
- decisions.md (choix techniques)

**INTERDICTION** de documenter dans le code source (commentaires OK, mais pas de gros blocs de contexte)

---

### 6. Ã‰VALUATION SYSTÃ‰MATIQUE

**AVANT** de dÃ©marrer une tÃ¢che, Cursor DOIT Ã©valuer :
- **PrioritÃ©** : P0 (critique) | P1 (important) | P2 (normal) | P3 (nice-to-have)
- **Temps** : Estimation en heures/jours
- **Assignation** : Guillaume | AssociÃ©e | Les deux
- **Raison** : Justification de la priorisation

**FORMAT RÃ‰PONSE CURSOR** :
```
ðŸ“Š Ã‰VALUATION TÃ‚CHE

PrioritÃ© : P1
Temps estimÃ© : 5h
AssignÃ© Ã  : Guillaume
Raison : Bug impactant 3 sites en prod, bloque les users

Ordre de traitement recommandÃ© :
1. Cette tÃ¢che (P1, 5h)
2. [Autre tÃ¢che] (P2, 3h)
...
```

---

### 7. COMMANDES CURSOR AUTORISÃ‰ES

User peut demander :
- "Cursor, Ã©value le backlog"
- "Cursor, crÃ©e la tÃ¢che [description]"
- "Cursor, je dÃ©marre TASK-XXX"
- "Cursor, log ma session pour TASK-XXX"
- "Cursor, je mets TASK-XXX en pause" (â†’ âš ï¸ INCOMPLET)
- "Cursor, j'abandonne TASK-XXX : [raison]" (â†’ vÃ©rif revert)
- "Cursor, finalise TASK-XXX" (â†’ vÃ©rif DoD)
- "Cursor, montre les INCOMPLET"

---

## ðŸ“ FICHIERS SYSTÃˆME

- **BACKLOG** : `.cursor/BACKLOG.md`
- **TODO Guillaume** : `.cursor/TODO-GUILLAUME.md`
- **TODO AssociÃ©e** : `.cursor/TODO-ASSOCIEE.md`
- **Archive** : `.cursor/DONE.md`
- **Doc tÃ¢ches** : `.cursor/tasks/TASK-XXX-nom/`
- **Workflows** : `.cursor/WORKFLOWS.md`
- **Guide** : `.cursor/README.md`

---

## ðŸš« INTERDICTIONS

1. âŒ Coder sans tÃ¢che documentÃ©e
2. âŒ Marquer FINALISÃ‰ sans les 3 critÃ¨res
3. âŒ Abandonner sans revert du code
4. âŒ DÃ©marrer du nouveau avec des INCOMPLET non justifiÃ©es
5. âŒ Documentation/contexte dans le code source

---

## âœ… RÃ‰SUMÃ‰ WORKFLOW

```
BACKLOG.md (Ã©valuation Cursor)
    â†“
TODO-[PERSONNE].md
    â†“
.cursor/tasks/TASK-XXX-nom/ (crÃ©ation doc)
    â†“
ðŸ”„ En cours (code + log progress.md)
    â†“
    â”œâ†’ âš ï¸ INCOMPLET (pause avec contexte) â†’ reprendre en prioritÃ©
    â”œâ†’ âŒ ABANDONNÃ‰E (revert code + raison)
    â””â†’ âœ… FINALISÃ‰ (3 critÃ¨res validÃ©s) â†’ DONE.md
```

---

**Ces rÃ¨gles sont OBLIGATOIRES pour Guillaume ET AssociÃ©e.**
**Cursor doit les appliquer systÃ©matiquement et de faÃ§on bienveillante.**

---

## ðŸš€ DÃ‰MARRAGE SESSION CURSOR (AUTOMATIQUE)

**Ã€ CHAQUE nouveau chat, Cursor DOIT OBLIGATOIREMENT** :

### Ã‰TAPE 1 : Lire Documentation Obligatoire
```
1. Lire `.cursor/INDEX-DOCUMENTATION.md` (checklist complÃ¨te)
2. Lire `.cursor/BACKLOG.md` (vÃ©rifier section INCOMPLET)
3. Lire `.cursor/TODO-GUILLAUME.md` OU `.cursor/TODO-Lucie.md` (selon user)
```

### Ã‰TAPE 2 : ExÃ©cuter Health Check
```bash
node tools/tasks/scripts/health-check.mjs
```

**Afficher rÃ©sultat** avant toute interaction :
```
ðŸ¥ HEALTH CHECK SYSTÃˆME TASKS

ðŸ“Š X tÃ¢ches trouvÃ©es
âš ï¸ Y tÃ¢ches INCOMPLET â†’ PRIORITAIRE
ðŸ§Ÿ Z tÃ¢ches zombies (>7j)

ðŸŽ¯ ACTIONS RECOMMANDÃ‰ES:
[Liste des actions]
```

### Ã‰TAPE 3 : Attendre Instructions User

**Si user demande de coder AVANT health check** :
â†’ ExÃ©cuter health check d'abord
â†’ Afficher rÃ©sultat
â†’ PUIS demander confirmation si INCOMPLET existent

---

## ðŸ”§ SCRIPTS DISPONIBLES

Cursor peut utiliser ces scripts :

| Script | Usage | Quand |
|--------|-------|-------|
| `tools/tasks/scripts/health-check.mjs` | Health check complet | DÃ©marrage session |
| `tools/tasks/scripts/validate-tasks.mjs` | Valide structure | Avant commit |
| `tools/tasks/scripts/check-incomplete-tasks.mjs` | Rappel INCOMPLET | DÃ©marrage |
| `tools/tasks/scripts/tasks-dashboard.mjs` | MÃ©triques | Ã€ la demande |
| `tools/tasks/scripts/create-task-template.sh` | Template tÃ¢che | Nouvelle tÃ¢che |

---


